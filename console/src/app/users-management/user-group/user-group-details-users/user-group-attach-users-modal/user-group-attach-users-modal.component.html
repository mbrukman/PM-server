<app-general-modal-template
  modalTitle="Attach Users"
  [modalRef]="bsModalRef">

  <div class="row">
    <app-filter-text-input
    (onChange)="userFilterSubject.next($event)"></app-filter-text-input>
  </div>

  <p-table
    [totalRecords]="totalUsersCount"
    [value]="users"
    [rows]="15"
    [paginator]="true"
    [pageLinks]="4"
    [lazy]="true"
    (onLazyLoad)="this.lazyLoadUsers($event)"
  >
    <ng-template pTemplate="header">
      <tr>
        <th></th>
        <th>Users</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td rowspan="1">
          <app-checkbox (onChange)="userSubject.next([$event, user])"></app-checkbox>
        </td>
        <td colspan="4">{{user.name}}</td>
      </tr>
    </ng-template>
  </p-table>
  <div class="btn-container w-100 d-flex justify-content-end">
    <button class="kh-btn" (click)="bsModalRef.hide()">Cancel</button>
    <button class="kh-btn kh-btn-blue" [disabled]="!newUsersCollectionLength" (click)="saveGroups()">Save</button>
  </div>
</app-general-modal-template>
